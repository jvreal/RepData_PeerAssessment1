{
    "contents" : "---\ntitle: \"Reproducible Research: Peer Assessment 1\"\noutput: \n  html_document:\n    keep_md: true\n---\n\nThe goal of this R Mardown file is to satisfy the requirements and answer the questions for the first Peer Assessment assignment of the John Hopkins Reproducible Research course on Coursera.  All of the needed scripts, data, and analysis information is provided here and published in this GitHub repository:  https://github.com/jvreal/RepData_PeerAssessment1\n\n## Loading and preprocessing the data\n\nThe first step for this analysis is to read the activity data file, and format the date data appropriately.\n\n```{r, echo=TRUE}\nstep_data <- read.csv(\"./activity.csv\")\n\n## Convert date to date type\nstep_data$date <- as.Date(step_data$date, format = \"%Y-%m-%d\")\n\nhead(step_data)\n```\n\nFind complete cases:\n```{r, echo=TRUE}\ncomplete_step_data <- subset(step_data, complete.cases(step_data) == TRUE)\n\nhead(complete_step_data)\n```\n\n## What is mean total number of steps taken per day?\nAggregate total steps per day, display hisogram, and provide mean and median values:\n\n```{r, echo=TRUE}\ndaily_steps <- aggregate(complete_step_data$steps, by = list(complete_step_data$date), sum)\nnames(daily_steps)[1] = \"date\"\nnames(daily_steps)[2] = \"steps\"\n\nhead(daily_steps)\n```\n\nHistogram for total steps taken each day:\n```{r, echo=TRUE}\nhist(daily_steps$steps, main=\"Total Steps each Day\", xlab=\"Steps\")\n```\n\nMean and Median Total Steps each day:\n```{r, echo=TRUE}\nsummary(daily_steps)\n```\n\n\n## What is the average daily activity pattern?\n\nProvide a time series plot of 5 minute intervals accross all days\n```{r, echo=TRUE}\n## Split data by interval\ninterval_data <- split(complete_step_data, complete_step_data$interval, drop=TRUE)\ninterval_mean_data <- sapply(interval_data, function(x) mean(x$steps))\nplot(interval_mean_data, type=\"l\", main=\"Interval Time Series\", ylab=\"Average Steps\", xlab=\"Interval\")\n```\n\nThe 5 minute interval, on average across all days, that contains the maxium number of steps:\n```{r, echo=TRUE}\nhead(interval_mean_data)\ninterval_mean_data[which.max(interval_mean_data)]\n```\n\nThis shows interval 835 on average contains the most steps across all days and average number of steps in 206.\n\n\n## Imputing missing values\nHow many intervals are there with no data?  In others words the number of rows with NA for steps?\n\n```{r, echo=TRUE}\nsum(is.na(step_data$steps))\n```\n\nCreate a new data frame from original that replaces NAs with the mean for that interval across all other days.\n```{r, echo=TRUE}\n# Find interval means\nmean_data <- aggregate(step_data$steps, by = list(step_data$interval), mean, na.rm=TRUE, na.action=NULL)\nnames(mean_data)[1] <- \"interval\"\nnames(mean_data)[2] <- \"mean_steps\"\n\n# Replace NA data with mean for that interval\nimputted_data <- merge(step_data, mean_data, by=\"interval\", sort=FALSE)\nimputted_data <- imputted_data[with(imputted_data, order(date, interval)),]\nimputted_data$steps[is.na(imputted_data$steps)] <- round(imputted_data$mean_steps[is.na(imputted_data$steps)], digits=0)\nimputted_data$mean_steps <- NULL ## Remove temporary colument with mean data\nimputted_data <- imputted_data[, c(2,3,1)]  ## Fix column order\n\nhead(imputted_data)\nhead(step_data)\n```\n\nAggregate total steps per day, display hisogram, and provide mean and median values for new data set:\n\n```{r, echo=TRUE}\ndaily_steps <- aggregate(imputted_data$steps, by = list(imputted_data$date), sum)\nnames(daily_steps)[1] = \"date\"\nnames(daily_steps)[2] = \"steps\"\n\nhead(daily_steps)\n```\n\nHistogram for total steps taken each day:\n```{r, echo=TRUE}\nhist(daily_steps$steps, main=\"Total Steps each Day\", xlab=\"Steps\")\n```\n\nMean and Median Total Steps each day:\n```{r, echo=TRUE}\nsummary(daily_steps)\n```\n\nNo impact to mean value using the rounded mean steps for 5 min interval in place of missing data.  Small impact to median value.\n\n## Are there differences in activity patterns between weekdays and weekends?\n\n```{r, echo=TRUE}\nimputted_data$weekday <- weekdays(imputted_data$date)\nimputted_data$weekday[which(imputted_data$weekday == \"Monday\")] <- \"weekday\"\nimputted_data$weekday[which(imputted_data$weekday == \"Tuesday\")] <- \"weekday\"\nimputted_data$weekday[which(imputted_data$weekday == \"Wednesday\")] <- \"weekday\"\nimputted_data$weekday[which(imputted_data$weekday == \"Thursday\")] <- \"weekday\"\nimputted_data$weekday[which(imputted_data$weekday == \"Friday\")] <- \"weekday\"\nimputted_data$weekday[which(imputted_data$weekday == \"Saturday\")] <- \"weekend\"\nimputted_data$weekday[which(imputted_data$weekday == \"Sunday\")] <- \"weekend\"\nimputted_data$weekday <- as.factor(imputted_data$weekday)\nhead(imputted_data)\nlevels(imputted_data$weekday)\n\n```\n\nMake a time series plot of the 5 minute intervals vs average number of steps taken across all days for weekday and weekends.\n```{r, echo=TRUE}\nweekday_mean_data <- aggregate(imputted_data$steps, by = list(imputted_data$weekday, imputted_data$interval), mean)\nnames(weekday_mean_data)[1] <- \"weekday\"\nnames(weekday_mean_data)[2] <- \"interval\"\nnames(weekday_mean_data)[3] <- \"mean_steps\"\n\nhead(weekday_mean_data)\n```\n\nUse lattice to create panel plot:\n```{r, echo=TRUE}\nlibrary(lattice)\nxyplot(weekday_mean_data$mean_steps ~ weekday_mean_data$interval | weekday_mean_data$weekday, layout=c(1,2), type=\"l\", xlab=\"Interval\", ylab=\"Avg number steps\")\n```\n\n\n",
    "created" : 1421460822090.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2411057665",
    "id" : "25E828BB",
    "lastKnownWriteTime" : 1421617172,
    "path" : "~/GitHub/RepData_PeerAssessment1/PA1_template.Rmd",
    "project_path" : "PA1_template.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}